# 基于改进用户属性评分的协同过滤算法（中文）

## 1.基于评分偏好的用户相似性的计算改进

评分均差：
$$
Dis(A,B)=\frac{\sum_{i \in c_{A,B}}|S_{A_i}-S_{B_i}|}{|C_{A,B}|}
$$
$Dis(A,B)$表示userA,B之间的评分距离，==$C_{A,B}$ userA,B的相同评分的项目集合==<!--这里应该是A,B评分项目的交集，表达的太不准确的-->，$S_{Ai}$表示user A对item i的评分。

eg:

index:0,1,2,3,4,5,6

​       A:1,2,5,0,3,4,1

​       B:0,5,0,1,1,0,0

则$C_{A,B}=\{1,4 \}$

这种情况会使得用户没用相同评分项的时候使得分母为0，

改进1：
$$
Dis(A,B)=\frac{\sum_{i \in c_{A,B}}|S_{A_i}-S_{B_i}|}{|C_{A,B}|+1}
$$
公式避免了分母为零时式子无意义的情况,但是$|C_{A,B}|=0$时，这是A,B应该是最不相似的情况。此时$Dis(A，B)=0$距离最小相识度最大，两者相互矛盾。

再改
$$
Dis(A,B)=\frac{\sum_{i \in c_{A,B}}|S_{A_i}-S_{B_i}|+(S_{max}-S_{min})}{|C_{A,B}|+1}
$$
$S_{max}-S_{min}$表示 A 和 B共有的评分最大值和最小值的差值

对于存在的一些比较有个性的用户，其评分标准不同于一般的评分分布，可能会出现没有系统的最值评分情况，
或其评分基本无波动，对于这样的用户我们需要将其考虑到推荐系统中，例如，在 ＵｓｅｒＡ 和 ＵｓｅｒＢ的共同评分项目集合中，ＵｓｅｒＡ 的评分有１到５分，而 ＵｓｅｒＢ的评分可能是２到４分

再改：

![image-20200811105455546](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20200811105455546.png)

思考：

分母可以改为$e^{|C_{A,B}|}$避免这个分母为0，$|C_{A,B}|$越大，分母越大，$Dis(A,B)$就越小，相似度就越高，分母可以考虑变为$e^{-\#}$，#就是那一坨（不包括$(S_{max}-S_{min})$），但是这样的距离的最远也就1，度量太小了

同样这种方法过于依赖这个共同评分项了，在这个信息爆炸的时代，信息太多，如果依赖这个共同评分来计算相似度的话就太勉强了。（数据稀疏性）

## 评分差距平衡

$$
\frac{r_i-r_{min}}{r_{max}-r_{min}}
$$



# 一种解决新项目冷启动问题的推荐算法

## 用户时间权重

用户时间权重：用户评价项目的总数与用户评价过的所有项目的时间与项目发布时间间隔的和的比值。这里,定义 $sum $表示用户 u 评价项目的总数; ${time}_{ui}$表示用户 u 评价项目 i 的时间;${date}_i$表示项目 i 的发布时间.则用户 u 的时间权重$ w_u$计算公式为 :
$$
w_u=\frac{sum}{\sum _{i=1}^{sum} ({time}_{ui}-{date}_{i})}
$$
反映了用户偏爱评价新发布项目的平均程度.

==还待考虑==